var Options=function(){function n(){}return n.distance=125,n.numberDistance=50,n.padding=100,n.size=100,n.getStep=function(){return 1},n.white=16777215,n.black=0,n.invisible=3355443,n.debug=!1,n.demo=!1,n.secondSpeed=.5,n.singleMoveSpeed=.35,n}(),Digit=function(){function n(n){this.value=n;this.angle=0;this.ignoreAngle=!1;this.animationChains=[]}return n.prototype.enumerateColors=function(t,i){return this.faces[t].map(function(t,r){i(n.colors[t],r,t)})},n.prototype.getChain=function(n){for(var i,t=0;t<this.animationChains.length;t++)if(i=this.animationChains[t],i.destination===n)return i;return new DigitAnimationChain(n)},n.getByName=function(t){return t==="empty"?n.empty:t==="1"?n.one:t==="2"?n.two:t==="3"?n.three:t==="4"?n.four:t==="5"?n.five:t==="6"?n.six:t==="7"?n.seven:t==="8"?n.eight:t==="9"?n.nine:t==="0"?n.zero:void 0},n.colors=[Options.white,Options.black,Options.invisible],n}(),DigitAnimationChain=function(){function n(n){n===void 0&&(n="");this.steps=[];this.destination=n}return n}(),DigitAnimationStep=function(){function n(){this.numbers=1}return n}(),MovesDescriptors=function(){function n(){}return n.front={source:[18,19,20,21,22,23,24,25,26],axe:"z"},n.middleZ={source:[9,10,11,12,13,14,15,16,17],axe:"z"},n.back={source:[0,1,2,3,4,5,6,7,8],axe:"z"},n.up={source:[8,7,6,17,16,15,26,25,24],axe:"y"},n.middleY={source:[21,22,23,12,13,14,3,4,5],axe:"y"},n.down={source:[18,19,20,9,10,11,0,1,2],axe:"y"},n.right={source:[2,5,8,11,14,17,20,23,26],axe:"x"},n.middleX={source:[1,4,7,10,13,16,19,22,25],axe:"x"},n.left={source:[0,3,6,9,12,15,18,21,24],axe:"x"},n}(),Helpers=function(){function n(){}return n.createGeometry=function(){return new THREE.BoxGeometry(Options.size,Options.size,Options.size)},n.white=new THREE.MeshLambertMaterial({color:Options.white}),n.black=new THREE.MeshLambertMaterial({color:Options.black}),n}(),CubicPainter=function(){function n(){this.q=Q.fcall(function(){return});this.cancellation=new CancelToken}return n.prototype.startMove=function(n,t){var i=this,u=t?1:-1,r=this;this.cancellation.cancel()?this.cancellation.token=!1:r.q=this.q.then(function(){return i.cancellation.token=!1,AnimationQueue.play(r._element,n.vector,u*Consts.Pi2,i.cancellation,1,Options.secondSpeed)})},n.prototype.draw=function(n,t,i,r){var u=Helpers.createGeometry(),f=this.createMaterial();this._element=new THREE.Mesh(u,f);this._element.position.set(t,i,r);this.createLight(n);n.add(this._element)},n.prototype.createMaterial=function(){var n=Helpers.white,t=Helpers.black,i=[n,n,t,t,n,n];return new THREE.MeshFaceMaterial(i)},n.prototype.createLight=function(){return null},n}(),CubePainter=function(){function n(){this.cubics=[];this.center=new THREE.Vector3(0,0,0);this.angle=0;this.axes={x:new THREE.Vector3(1,0,0).normalize(),y:new THREE.Vector3(0,1,0).normalize(),z:new THREE.Vector3(0,0,1).normalize()};this.sides={x:[4,2,5,3],y:[0,4,1,5],z:[3,1,2,0]};this.q=Q.fcall(function(){return});this.cancellation=new CancelToken;this._front=new THREE.Vector3(1,1,1).normalize()}return n.prototype.draw=function(n,t,i){for(var r,u,f,c=Options.getStep(),e=0,o=0;o<3;o++)for(r=0;r<3;r++)for(u=0;u<3;u++){var l=Helpers.createGeometry(),a=this.createMaterial(n,e),s=new THREE.Mesh(l,a),h=new THREE.Vector3(u-1,r-1,o-1);h.multiplyScalar(Options.size+c);s.position.add(h);this.cubics.push(new CubeItem(e,s));t.add(s);e++}Options.debug&&(this.__helperX=new THREE.ArrowHelper(this.axes.x,i,120,16711680,15,10),this.__helperY=new THREE.ArrowHelper(this.axes.y,i,120,65280,15,10),this.__helperZ=new THREE.ArrowHelper(this.axes.z,i,120,255,15,10),this.__helper=new THREE.ArrowHelper(this.axes.z,i,150,16711935,15,10),t.add(this.__helperX),t.add(this.__helperY),t.add(this.__helperZ),t.add(this.__helper));f=this.createPivot(null,t);f.rotateOnAxis(this._front,n.angle*Consts.Pi6);this.applyRotate(n.angle);f.position.add(i);this.releasePivot(f,null,t);this.center=i;this.createLight(this.cubics[13],i,t)},n.prototype.createMaterial=function(n,t){var i=[];return n.enumerateColors(t,function(n){i.push(new THREE.MeshLambertMaterial({color:n}))}),new THREE.MeshFaceMaterial(i)},n.prototype.createLight=function(){return null},n.prototype.startMoves=function(n,t,i){var r=this,u,f;return n.angle!==this.angle&&console.log("wrong angle"),u=this.cancellation.cancel(),f=n.getChain(t.value),this.q=this.q.then(function(){return r.cancellation.token=!1,u?(r.replaceDigit(t,i),Q.fcall(function(){return})):(r.begin(n),r.chain(t,f,i).then(function(){var n=t.angle-r.angle;return(n=r.normalizeAngle(n),n!==0&&!t.ignoreAngle)?r.rotate(n>0,i,Math.abs(n)):Q.fcall(function(){})}).then(function(){return r.replaceDigit(t,i)}))}),this.q},n.prototype.begin=function(n){var t=this;this.cubics.forEach(function(i,r){t.replaceSingleColor(r,1,n.faces[r][1]);t.replaceSingleColor(r,3,n.faces[r][3]);t.replaceSingleColor(r,5,n.faces[r][5])})},n.prototype.chain=function(n,t,i){var r=this,u=t.steps.map(function(t){return function(){return r.doStep(n,t,i)}});return u.reduce(function(n,t){return n.then(function(){return t()}).catch(function(n){console.error(n)})},Q.fcall(function(){return}))},n.prototype.doStep=function(n,t,i){var r=this;return t.operation==="rotate"?this.rotate(t.direction,i,t.numbers):t.operation==="replace"?Q.fcall(function(){r.replace(t.colors)}):this.move(t.operation,t.direction,i)},n.prototype.move=function(n,t,i){var r=this,u=this.createPivot(n,i),f=this.axes[MovesDescriptors[n].axe].clone(),e=t?1:-1,o=Consts.Pi2*e;return AnimationQueue.play(u,f,o,this.cancellation,1,Options.singleMoveSpeed).then(function(){r.releasePivot(u,n,i);r.sortCubes(MovesDescriptors[n],t);r.ajustSides(n,t)})},n.prototype.rotate=function(n,t,i){var f=this,r,u;return i===void 0&&(i=1),r=this.createPivot(null,t),u=n?1:-1,AnimationQueue.play(r,this._front,u*Consts.Pi6,this.cancellation,i,Options.singleMoveSpeed).then(function(){f.applyRotate(u*i);f.releasePivot(r,null,t)})},n.prototype.applyRotate=function(n){var t=n*Consts.Pi6;this.axes.x.applyAxisAngle(this._front,t);this.axes.y.applyAxisAngle(this._front,t);this.axes.z.applyAxisAngle(this._front,t);this.angle+=n;this.angle=this.normalizeAngle(this.angle);Options.debug&&(this.__helperX.setDirection(this.axes.x),this.__helperY.setDirection(this.axes.y),this.__helperZ.setDirection(this.axes.z),this.__helper.setDirection(this._front))},n.prototype.normalizeAngle=function(n){var t=n%12;return t>6&&(t-=12),t<-6&&(t+=12),t},n.prototype.replace=function(n){for(var i,t=0;t<n.length;t++)i=n[t],this.replaceSingleColor(i[0],i[1],i[2]);return},n.prototype.replaceSingleColor=function(n,t,i){var r=this.cubics[n],f=r.cube,e=f.material,u=e.materials[r.sideIndexes[t]];u.color.getHex()===16711680||(u.color=new THREE.Color(Digit.colors[i]))},n.prototype.replaceDigit=function(n,t){for(var f=this,i=0;i<this.cubics.length;i++)n.enumerateColors(i,function(n,t,r){f.replaceSingleColor(i,t,r)});if(!n.ignoreAngle){var r=this.createPivot(null,t),u=n.angle-this.angle,e=Consts.Pi6*u;r.rotateOnAxis(this._front,e);this.releasePivot(r,null,t);this.applyRotate(u);this.angle=n.angle}},n.prototype.releasePivot=function(n,t,i){var r=this;n.updateMatrixWorld(!0);i.remove(n);t?MovesDescriptors[t].source.map(function(t){var u=r.cubics[t];u.cube.updateMatrixWorld(!0);THREE.SceneUtils.detach(u.cube,n,i)}):this.cubics.map(function(t){t.cube.updateMatrixWorld(!0);THREE.SceneUtils.detach(t.cube,n,i)})},n.prototype.ajustSides=function(n,t){var i=this,r=MovesDescriptors[n].axe;MovesDescriptors[n].source.forEach(function(n){for(var e,o,f=i.cubics[n],s=f.sideIndexes.map(function(n){return n}),u=0;u<4;u++)e=i.sides[r][t?u:(u+1)%4],o=i.sides[r][t?(u+1)%4:u],f.sideIndexes[e]=s[o]})},n.prototype.sortCubes=function(t,i){var f=this,u=[],r;this.cubics.map(function(n){u.push(n)});r=n.indexes.map(function(n){return t.source[n]});i&&r.reverse();t.source.map(function(n,t){f.cubics[n]=u[r[t]]})},n.prototype.createPivot=function(n,t){var r=this,i=new THREE.Object3D;return i.position.add(this.center),i.rotation.set(0,0,0),i.updateMatrixWorld(!0),t.add(i),n?MovesDescriptors[n].source.map(function(n){var u=r.cubics[n];u.cube.updateMatrixWorld(!0);THREE.SceneUtils.attach(u.cube,t,i)}):this.cubics.map(function(n){n.cube.updateMatrixWorld(!0);THREE.SceneUtils.attach(n.cube,t,i)}),i},n.indexes=[2,5,8,1,4,7,0,3,6],n}(),CubeItem=function(){function n(n,t){this.index=n;this.cube=t;this.sideIndexes=[0,1,2,3,4,5]}return n}(),Clock=function(){function n(n){this.started=!1;this.initiated=!1;this.view=new View(n);this.dial=new Dial(this.view)}return n.prototype.start=function(){this.started||(this.started=!0,this.init(),this.doTick())},n.prototype.update=function(){this.view.updateSize()},n.prototype.stop=function(){this.started=!1;clearTimeout(this.timer)},n.prototype.init=function(){this.initiated||this.dial.init()},n.prototype.doTick=function(){var n=this;this.timer=setTimeout(function(){n.tick()},1e3)},n.prototype.tick=function(){this.dial.update();this.started&&this.doTick()},n}(),AnimationQueue=function(){function n(){}return n.play=function(t,i,r,u,f,e){var o,s,h,c;return(f===void 0&&(f=1),e===void 0&&(e=.5),o=r*f,s=t.matrix.clone(),u.token)?(n.rotate(t,s,i,o),Q.fcall(function(){return})):(h=Q.defer(),c={time:0},u.animation=TweenLite.to(c,e*f,{time:1,ease:Power1.easeInOut,onUpdate:function(r){n.rotate(t,s,i,o*r.time)},onUpdateParams:[c],onComplete:function(){u.animation=null;n.rotate(t,s,i,o);h.resolve()}}),h.promise)},n.rotate=function(n,t,i,r){var u=(new THREE.Matrix4).makeRotationAxis(i,r);n.matrix.copy(u);n.applyMatrix(t)},n}(),CancelToken=function(){function n(){this.token=!1}return n.prototype.cancel=function(){if(this.token=!0,!!this.animation){var n=this.animation,t=n.vars;return t.onComplete(),n.kill(),!0}return!1},n}(),Consts=function(){function n(){}return n.Pi2=Math.PI/2,n.Pi6=Math.PI/6,n.Pi3=Math.PI/3,n.Sqrt3=Math.sqrt(3),n}(),Axes=function(){function n(n,t){this.vector=n;this.angle=t}return n.X=new n(new THREE.Vector3(1,0,0),Consts.Pi2),n.Y=new n(new THREE.Vector3(0,1,0),Consts.Pi2),n.Z=new n(new THREE.Vector3(0,0,1),Consts.Pi2),n.Decart=[n.X,n.Y,n.Z],n.Front=new n(new THREE.Vector3(1,1,1).normalize(),Consts.Pi6),n}(),View=function(){function n(n){var t=this;this.container=n;this.model=new ClockModel;this.init();window.onresize=function(){return t.updateSize()}}return n.prototype.draw=function(n,t){var i=0;if(t!==-1){var e=Options.getStep(),r=t>1?t-1:t-2,o=Math.abs(r),s=r>0?1:-1,u=Consts.Sqrt3,h=Options.size*u/2,f=(3*Options.size+2*e)*u,c=h+Options.distance+(Options.numberDistance+f)*(o-1)+f/2,l=c*Math.sqrt(2)/2;i=l*s}else t=0;this.model.digits[t].draw(n,this.scene,new THREE.Vector3(i,0,-i))},n.prototype.drawSec=function(){this.model.second=new CubicPainter;this.model.second.draw(this.scene,0,0,0)},n.prototype.animate=function(n,t,i){return this.model.digits[i].startMoves(n,t,this.scene)},n.prototype.animateSec=function(){var n=Axes.Decart[Math.floor(3*Math.random())%3];this.model.second.startMove(n,Math.random()>.5,this.scene)},n.prototype.init=function(){this.renderer=this.createRenderer();this.scene=this.createScene();this.camera=this.createCamera(this.scene);this.container.appendChild(this.renderer.domElement);this.animationLoop()},n.prototype.animationLoop=function(){var n=this;requestAnimationFrame(function(){n.render()})},n.prototype.render=function(){this.renderer.render(this.scene,this.camera);this.animationLoop()},n.prototype.createRenderer=function(){var n=new THREE.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0});return n.setPixelRatio(window.devicePixelRatio),n.setSize(window.innerWidth,window.innerHeight),n.setClearColor(15132390,1),n},n.prototype.updateSize=function(){this.renderer.setSize(window.innerWidth,window.innerHeight);var t=this.getSceneSizes(),n=this.camera;n.left=-t[0];n.right=t[0];n.top=t[1];n.bottom=-t[1];n.updateProjectionMatrix()},n.prototype.getSceneSizes=function(){var n=Consts.Sqrt3,i=Options.getStep(),r=n*(Options.size*3+i*2),u=Options.distance,f=n*Options.size,t=4*r+2*u+2*Options.numberDistance+2*Options.padding+f,e=window.innerHeight*t/window.innerWidth,o=t/2,s=e/2;return[o,s]},n.prototype.createCamera=function(n){var r=this.getSceneSizes(),u=r[0],f=r[1],i=Options.size*2,t=new THREE.OrthographicCamera(-u,u,f,-f,0,4*i);return t.position.x=i,t.position.y=i,t.position.z=i,t.lookAt(n.position),t},n.prototype.createScene=function(){var t=new THREE.Scene,i=new THREE.DirectionalLight(16777215,3),r=new THREE.DirectionalLight(15658734,1),e,u;if(i.position.set(0,5,1),r.position.set(2,-1,.2),t.add(i),t.add(r),Options.debug){var o=new THREE.BoxGeometry(10,10,10),f=new THREE.Mesh(o,new THREE.MeshLambertMaterial({color:16711680})),n=30;f.position.set(i.position.x*n,i.position.y*n,i.position.z*n);t.add(f);e=new THREE.BoxGeometry(10,10,10);u=new THREE.Mesh(e,new THREE.MeshLambertMaterial({color:16711680}));u.position.set(r.position.x*n,r.position.y*n,r.position.z*n);t.add(u)}return t},n}(),Dial=function(){function n(n){this._view=n;this._time=new TimeProvider}return n.prototype.init=function(){this._digits=(Options.debug?["2","3","5","9"]:this._time.prev()).map(function(n){return Digit.getByName(n)});this.drawDigits();this.drawSec()},n.prototype.update=function(){var n=Options.debug?["0","0","0","0"]:this._time.now(),t=this;n.forEach(function(n,i){t.updateDigit(n,i)});this.updateSec()},n.prototype.drawDigits=function(){var n=this;this._digits.forEach(function(t,i){n.drawDigit(t,i)})},n.prototype.drawDigit=function(n,t){this._view.draw(n,t)},n.prototype.updateDigit=function(n,t){if(this._digits[t].value!==n){var r=this._digits[t],i=Digit.getByName(n);this._digits[t]=i;this._view.animate(r,i,t)}},n.prototype.updateSec=function(){this._view.animateSec()},n.prototype.drawSec=function(){this._view.drawSec()},n}(),TimeProvider=function(){function n(){}return n.prototype.now=function(){var n=new Date,t=n.getHours(),i=n.getMinutes();return[Math.floor(t/10).toString(),(t%10).toString(),Math.floor(i/10).toString(),(i%10).toString()]},n.prototype.prev=function(){var t=new Date,n=t.getHours()-1,i=t.getMinutes();return n=(n+24)%24,[Math.floor(n/10).toString(),(n%10).toString(),((Math.floor(i/10)+5)%6).toString(),((i+9)%10).toString()]},n}(),ClockModel=function(){function n(){this.digits=[new CubePainter,new CubePainter,new CubePainter,new CubePainter]}return n.prototype.update=function(){},n}(),Main;(function(){Digit.empty=new Digit("empty");Digit.empty.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[0,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[0,2,2,2,2,2],[2,0,0,2,2,2],[2,2,0,2,2,2],[0,2,0,2,2,2],[2,0,2,0,0,2],[2,2,2,0,0,2],[0,2,2,0,0,2],[2,0,2,2,0,2],[2,2,2,2,0,2],[0,2,2,2,0,2],[2,0,0,2,0,2],[2,2,0,2,0,2],[0,2,0,2,0,2]]})(),function(){Digit.zero=new Digit("0");Digit.zero.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,1,2,2],[0,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[1,2,2,2,2,2],[2,1,0,2,2,2],[2,2,1,2,2,2],[1,2,1,2,2,2],[2,0,2,1,0,2],[2,2,2,0,0,2],[0,2,2,0,0,2],[2,0,2,2,0,2],[2,2,2,2,1,2],[1,2,2,2,1,2],[2,0,0,2,0,2],[2,2,1,2,1,2],[0,2,0,2,0,2]];Digit.zero.angle=1;Digit.zero.ignoreAngle=!0;Digit.zero.animationChains.push({destination:"1",steps:[{operation:"front",direction:!0},{operation:"replace",colors:[[0,1,1],[5,5,1],[6,5,1],[6,1,1],[9,1,1],[10,3,0],[15,1,0],[18,1,1],[21,1,0]]},{operation:"middleY",direction:!0},{operation:"replace",colors:[[0,1,0],[2,3,1],[3,1,0],[4,5,0],[6,5,0],[9,1,0],[18,1,0],[21,1,1]]},{operation:"middleZ",direction:!0},{operation:"middleZ",direction:!0},{operation:"back",direction:!1},{operation:"replace",colors:[[5,5,1],[7,5,1],[8,5,1],[9,3,0],[10,3,0],[12,1,0],[18,1,1],[21,1,0],[24,1,1]]},{operation:"up",direction:!1},{operation:"replace",colors:[[5,5,0],[6,5,0],[9,1,0],[15,1,0],[18,1,0],[21,1,1]]},{operation:"middleZ",direction:!0},{operation:"middleZ",direction:!0},]})}(),function(){Digit.one=new Digit("1");Digit.one.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,1,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[0,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[0,2,2,2,2,2],[2,0,0,2,2,2],[2,2,0,2,2,2],[0,2,0,2,2,2],[2,1,2,1,0,2],[2,2,2,0,0,2],[1,2,2,0,0,2],[2,0,2,2,0,2],[2,2,2,2,0,2],[1,2,2,2,0,2],[2,0,0,2,0,2],[2,2,0,2,0,2],[1,2,1,2,0,2]];Digit.one.angle=0;Digit.one.animationChains.push({destination:"2",steps:[{operation:"back",direction:!0},{operation:"replace",colors:[[0,3,1],[1,3,1],[3,1,1],[3,5,1],[5,5,1],[9,1,1],[18,1,0],[19,3,1]]},{operation:"middleY",direction:!0},{operation:"middleY",direction:!0},{operation:"replace",colors:[[0,3,0],[0,5,1],[1,3,0],[2,5,1],[3,1,0],[7,5,1],[9,1,0],[18,3,0],[19,3,0]]},{operation:"middleX",direction:!0},{operation:"replace",colors:[[0,3,1],[0,5,0],[1,3,1],[2,3,1],[2,5,0],[10,3,1],[15,1,1],[18,1,1],[19,3,1]]},{operation:"middleZ",direction:!1},{operation:"middleZ",direction:!1},{operation:"replace",colors:[[2,3,0],[3,1,1],[3,5,1],[9,1,1],[12,1,1],[18,1,0],[18,3,1]]},{operation:"down",direction:!0},{operation:"up",direction:!1},{operation:"replace",colors:[[1,5,0],[2,5,0],[3,1,0],[3,5,0],[9,3,0],[11,3,0],[12,1,0],[18,1,1],[20,3,0]]},{operation:"middleZ",direction:!1},{operation:"replace",colors:[[2,5,1],[5,5,1],[18,1,0],[18,3,0]]},{operation:"middleX",direction:!1},]})}(),function(){var n,t;Digit.two=new Digit("2");Digit.two.faces=[[2,0,2,0,2,1],[2,2,2,0,2,0],[0,2,2,1,2,1],[2,0,2,2,2,1],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,1],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[0,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[1,2,2,2,2,2],[2,0,0,2,2,2],[2,2,0,2,2,2],[1,2,0,2,2,2],[2,0,2,0,0,2],[2,2,2,1,0,2],[0,2,2,0,0,2],[2,0,2,2,1,2],[2,2,2,2,0,2],[1,2,2,2,1,2],[2,0,1,2,1,2],[2,2,1,2,0,2],[0,2,0,2,1,2]];Digit.two.angle=-2;n={destination:"3",steps:[{operation:"left",direction:!1},{operation:"left",direction:!1},{operation:"middleX",direction:!0},{operation:"middleX",direction:!0},{operation:"middleX",direction:!0},{operation:"right",direction:!0},{operation:"right",direction:!0},{operation:"replace",colors:[[0,3,0],[7,5,0],[9,1,1],[9,3,1]]},{operation:"back",direction:!0},{operation:"back",direction:!0},{operation:"middleZ",direction:!1},{operation:"middleZ",direction:!1},{operation:"replace",colors:[[3,1,0],[3,5,0],[6,5,0],[8,5,0],[15,1,0]]},{operation:"middleY",direction:!0},{operation:"middleY",direction:!0},]};Digit.two.animationChains.push(n);t={destination:"0",steps:[{operation:"replace",colors:[[2,3,0],[11,3,1],[20,3,1]]},{operation:"right",direction:!1},{operation:"replace",colors:[[0,5,0],[1,5,1],[2,5,1],[3,5,0],[6,5,0]]},{operation:"left",direction:!0},{operation:"down",direction:!1},{operation:"back",direction:!0},{operation:"replace",colors:[[1,5,1],[1,3,1],[2,5,1],[4,5,1],[5,5,1],[7,5,1],[10,3,1],[19,3,1]]},{operation:"middleX",direction:!0},{operation:"middleX",direction:!0},{operation:"right",direction:!0},{operation:"replace",colors:[[1,3,0]]},{operation:"back",direction:!0},{operation:"back",direction:!0},{operation:"replace",colors:[[0,1,0],[0,5,0]]},{operation:"down",direction:!1},{operation:"down",direction:!1}]};Digit.two.animationChains.push(t)}(),function(){var n,t;Digit.three=new Digit("3");Digit.three.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,1,2,1],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,1],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[0,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[1,2,2,2,2,2],[2,0,0,2,2,2],[2,2,0,2,2,2],[1,2,1,2,2,2],[2,0,2,0,1,2],[2,2,2,0,0,2],[0,2,2,0,0,2],[2,0,2,2,1,2],[2,2,2,2,0,2],[0,2,2,2,0,2],[2,0,0,2,1,2],[2,2,0,2,1,2],[0,2,1,2,1,2]];Digit.three.angle=-3;n={destination:"4",steps:[{operation:"left",direction:!0},{operation:"replace",colors:[[0,3,0],[0,5,1],[1,3,1],[2,3,0],[3,5,1],[5,5,1],[9,1,1],[15,1,1],[18,3,0],[19,3,1],[21,1,1]]},{operation:"front",direction:!0},{operation:"front",direction:!0},{operation:"replace",colors:[[1,3,1],[2,3,1],[2,5,0],[4,5,1],[6,5,1],[7,5,1],[9,1,0],[9,3,0],[15,1,0],[18,3,0],[19,3,1],[20,3,0]]},{operation:"middleX",direction:!0},{operation:"replace",colors:[[0,5,0],[1,3,0],[1,5,0],[2,3,0],[2,5,1],[3,1,1],[3,5,0],[4,5,1],[5,5,0],[6,1,1],[6,5,0],[15,1,1],[18,1,1],[24,1,1]]},{operation:"down",direction:!1},{operation:"down",direction:!1},{operation:"replace",colors:[[0,5,1],[1,3,1],[1,5,0],[3,1,0],[3,5,1],[4,5,0],[5,5,1],[6,1,0],[9,1,1],[9,3,1],[10,3,1],[15,1,1],[24,1,1]]},{operation:"back",direction:!0},{operation:"back",direction:!0},{operation:"replace",colors:[[2,3,1],[2,5,1],[3,5,0],[5,5,0],[6,1,0],[6,5,0],[8,5,0],[9,1,0],[9,3,0],[10,3,0]]},{operation:"left",direction:!0},]};Digit.three.animationChains.push(n);t={destination:"0",steps:[{operation:"replace",colors:[[0,5,1],[1,5,1],[2,5,0],[6,5,1],[7,5,1]]},{operation:"up",direction:!1},{operation:"down",direction:!1},{operation:"replace",colors:[[1,3,1]]},{operation:"back",direction:!0},{operation:"replace",colors:[[10,3,1],[11,3,1]]},{operation:"middleZ",direction:!0},{operation:"replace",colors:[[6,1,1],[15,1,1]]},{operation:"up",direction:!0},{operation:"down",direction:!1},{operation:"replace",colors:[[18,3,0],[20,3,0]]},{operation:"front",direction:!0},{operation:"up",direction:!1},{operation:"replace",colors:[[0,5,1],[3,5,1],[4,5,1],[5,5,1]]},{operation:"middleY",direction:!1},{operation:"down",direction:!1},{operation:"replace",colors:[[0,1,0],[3,1,0],[6,1,0]]},{operation:"back",direction:!0},{operation:"back",direction:!0},]};Digit.three.animationChains.push(t)}(),function(){Digit.four=new Digit("4");Digit.four.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,1],[2,2,2,2,2,0],[0,2,2,2,2,1],[2,1,0,2,2,1],[2,2,1,2,2,0],[0,2,0,2,2,1],[2,1,2,1,2,2],[2,2,2,1,2,2],[0,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[1,2,2,2,2,2],[2,0,0,2,2,2],[2,2,1,2,2,2],[1,2,1,2,2,2],[2,0,2,0,0,2],[2,2,2,0,0,2],[0,2,2,0,0,2],[2,0,2,2,0,2],[2,2,2,2,0,2],[1,2,2,2,0,2],[2,0,0,2,0,2],[2,2,1,2,0,2],[0,2,0,2,0,2]];Digit.four.angle=-4;Digit.four.animationChains.push({destination:"5",steps:[{operation:"back",direction:!1},{operation:"back",direction:!1},{operation:"replace",colors:[[0,5,0],[1,3,0],[2,5,0],[3,5,0],[5,5,0],[6,1,1],[9,1,0],[9,3,0],[10,3,0],[15,1,1]]},{operation:"up",direction:!1},{operation:"replace",colors:[[1,3,1],[1,5,1],[2,3,1],[5,5,1],[7,5,0],[8,5,0],[9,3,1]]},{operation:"left",direction:!1},{operation:"left",direction:!1},{operation:"replace",colors:[[0,1,1],[1,3,0],[1,5,0],[2,3,0],[2,5,1],[5,5,0],[9,5,0],[15,1,1],[21,1,1]]},{operation:"up",direction:!0},{operation:"replace",colors:[[0,1,0],[0,3,1],[2,3,1],[21,3,0]]},{operation:"right",direction:!0},{operation:"replace",colors:[[0,3,0],[1,5,1],[3,1,1],[4,5,1],[6,1,1],[8,5,0],[15,1,1],[21,1,1],[24,1,1]]},{operation:"middleY",direction:!0},{operation:"down",direction:!1},{operation:"replace",colors:[[0,3,1],[2,5,1],[4,5,0],[5,5,0],[6,1,0],[9,3,1],[12,1,0],[15,1,0],[18,3,1],[20,3,1],[24,1,0]]},{operation:"right",direction:!1},{operation:"left",direction:!0},{operation:"replace",colors:[[0,1,1],[0,5,0],[3,5,0],[6,1,1],[6,5,0],[9,3,0],[20,3,0],[21,1,1]]},{operation:"down",direction:!1},]})}(),function(){var n,t;Digit.five=new Digit("5");Digit.five.faces=[[2,1,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,1],[2,1,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[0,2,2,0,2,2],[2,1,2,2,2,2],[2,2,2,2,2,2],[0,2,2,2,2,2],[2,0,0,2,2,2],[2,2,1,2,2,2],[0,2,1,2,2,2],[2,0,2,0,0,2],[2,2,2,0,1,2],[1,2,2,0,1,2],[2,0,2,2,0,2],[2,2,2,2,0,2],[1,2,2,2,0,2],[2,0,0,2,0,2],[2,2,1,2,1,2],[0,2,0,2,1,2]];Digit.five.angle=6;n={destination:"0",steps:[{operation:"middleY",direction:!0},{operation:"down",direction:!0},{operation:"replace",colors:[[3,1,0],[2,3,1],[5,5,0],[6,1,0],[19,3,1]]},{operation:"right",direction:!1},{operation:"replace",colors:[[5,5,0],[6,1,1],[15,1,1],[19,3,0],[20,3,0]]},{operation:"down",direction:!0},{operation:"down",direction:!0},{operation:"replace",colors:[[0,1,0],[3,5,1],[5,5,1],[6,1,0],[9,1,1],[9,3,1],[10,3,1],[15,1,0]]},{operation:"middleZ",direction:!1},{operation:"middleZ",direction:!1},{operation:"back",direction:!0},{operation:"replace",colors:[[1,5,0],[2,5,0],[3,1,1],[3,5,1],[4,5,1],[7,5,0],[8,5,0],[10,3,0],[12,1,1],[15,1,1],[18,1,1],[24,1,1]]},{operation:"middleY",direction:!0},{operation:"middleY",direction:!0},{operation:"rotate",direction:!0,numbers:2}]};Digit.five.animationChains.push(n);t={destination:"6",steps:[{operation:"replace",colors:[[0,1,0],[2,5,1],[5,5,0],[6,1,1],[9,1,1],[21,1,1]]},{operation:"middleY",direction:!0},{operation:"down",direction:!0},{operation:"replace",colors:[[0,1,0],[0,3,1],[2,5,0],[5,5,0],[6,1,0]]},{operation:"right",direction:!0},{operation:"replace",colors:[[0,3,0],[0,1,1],[2,5,1],[11,3,0],[20,3,0],[21,1,1]]},{operation:"down",direction:!0},{operation:"replace",colors:[[0,1,0],[1,3,1],[1,5,1],[5,5,1],[9,3,1],[11,3,1],[21,1,0]]},{operation:"left",direction:!1},{operation:"right",direction:!1},{operation:"left",direction:!1},{operation:"replace",colors:[[0,1,1],[0,5,1],[1,5,0],[2,5,1],[3,1,1],[3,5,1],[5,5,1],[6,5,0],[9,1,1],[9,3,1],[11,3,0],[12,1,1],[15,1,1],[18,3,1],[20,3,1]]},{operation:"back",direction:!1},{operation:"middleZ",direction:!1},{operation:"replace",colors:[[0,3,0],[1,5,0],[2,5,1],[3,5,1],[3,1,0],[4,5,1],[9,3,0],[15,1,0],[18,3,0]]},{operation:"middleX",direction:!0},{operation:"left",direction:!1},{operation:"replace",colors:[[0,3,0],[0,5,0],[2,5,0],[3,5,0],[4,5,1],[5,5,1],[6,1,1],[9,3,0],[10,3,0],[12,1,1],[15,1,1],[18,3,0],[19,3,0],[20,3,0],[24,1,1]]},{operation:"down",direction:!0},]};Digit.five.animationChains.push(t)}(),function(){Digit.six=new Digit("6");Digit.six.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,1,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[1,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[1,2,2,2,2,2],[2,1,0,2,2,2],[2,2,1,2,2,2],[1,2,1,2,2,2],[2,0,2,0,0,2],[2,2,2,0,0,2],[0,2,2,0,0,2],[2,0,2,2,0,2],[2,2,2,2,1,2],[1,2,2,2,1,2],[2,1,0,2,0,2],[2,2,1,2,1,2],[0,2,0,2,0,2]];Digit.six.angle=5;Digit.six.animationChains.push({destination:"7",steps:[{operation:"up",direction:!0},{operation:"up",direction:!0},{operation:"replace",colors:[[0,5,1],[6,5,1]]},{operation:"left",direction:!0},{operation:"replace",colors:[[9,1,1]]},{operation:"down",direction:!0},{operation:"replace",colors:[[1,5,0],[7,5,0]]},{operation:"middleX",direction:!0},{operation:"replace",colors:[[6,1,1]]},{operation:"up",direction:!0},{operation:"replace",colors:[[15,1,1]]},{operation:"middleZ",direction:!1},{operation:"replace",colors:[[3,1,1]]},{operation:"back",direction:!1},{operation:"up",direction:!0},{operation:"replace",colors:[[0,5,1]]},{operation:"left",direction:!0},{operation:"back",direction:!0},]})}(),function(){Digit.seven=new Digit("7");Digit.seven.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[0,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[0,2,2,2,2,2],[2,0,0,2,2,2],[2,2,0,2,2,2],[0,2,0,2,2,2],[2,0,2,0,0,2],[2,2,2,0,0,2],[0,2,2,0,0,2],[2,0,2,2,1,2],[2,2,2,2,1,2],[1,2,2,2,1,2],[2,0,0,2,0,2],[2,2,0,2,0,2],[1,2,1,2,0,2]];Digit.seven.angle=3;Digit.seven.animationChains.push({destination:"8",steps:[{operation:"replace",colors:[[0,1,1],[1,3,1],[2,3,1]]},{operation:"back",direction:!1},{operation:"back",direction:!1},{operation:"front",direction:!1},{operation:"replace",colors:[[3,1,1],[12,1,1]]},{operation:"middleY",direction:!0},{operation:"replace",colors:[[9,1,1],[18,1,1]]},{operation:"down",direction:!0},{operation:"replace",colors:[[10,3,1]]},{operation:"middleZ",direction:!0},{operation:"replace",colors:[[10,3,1]]},{operation:"middleX",direction:!1},{operation:"replace",colors:[[7,5,1],[8,5,1]]},{operation:"up",direction:!1},{operation:"replace",colors:[[0,1,1],[9,1,1]]},{operation:"down",direction:!0},{operation:"replace",colors:[[0,1,0],[18,1,1]]},{operation:"down",direction:!0},{operation:"back",direction:!0},{operation:"left",direction:!0},{operation:"replace",colors:[[0,5,0]]},{operation:"left",direction:!0},]})}(),function(){Digit.eight=new Digit("8");Digit.eight.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[1,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[1,2,2,2,2,2],[2,0,0,2,2,2],[2,2,1,2,2,2],[1,2,1,2,2,2],[2,0,2,0,0,2],[2,2,2,0,1,2],[1,2,2,0,1,2],[2,0,2,2,0,2],[2,2,2,2,1,2],[0,2,2,2,0,2],[2,0,0,2,0,2],[2,2,1,2,1,2],[1,2,0,2,1,2]];Digit.eight.angle=0;Digit.eight.animationChains.push({destination:"9",steps:[{operation:"right",direction:!0},{operation:"replace",colors:[[9,3,1],[10,3,1]]},{operation:"middleZ",direction:!0},{operation:"replace",colors:[[0,1,1],[6,1,1]]},{operation:"back",direction:!1},{operation:"down",direction:!0},{operation:"replace",colors:[[9,3,0],[10,3,1],[11,3,1]]},{operation:"middleZ",direction:!0},{operation:"replace",colors:[[2,5,0],[2,3,1],[5,5,1],[20,3,1]]},{operation:"right",direction:!0},{operation:"right",direction:!0},{operation:"replace",colors:[[18,3,0],[6,5,1]]},{operation:"left",direction:!1},{operation:"left",direction:!1},{operation:"replace",colors:[[9,1,1],[1,5,0]]},{operation:"down",direction:!0},{operation:"down",direction:!0},{operation:"replace",colors:[[2,3,0],[11,3,1],[2,5,0],[1,5,1]]},{operation:"right",direction:!1},{operation:"right",direction:!1},{operation:"down",direction:!1},]})}(),function(){Digit.nine=new Digit("9");Digit.nine.faces=[[2,0,2,0,2,0],[2,2,2,0,2,0],[0,2,2,0,2,0],[2,0,2,2,2,0],[2,2,2,2,2,0],[0,2,2,2,2,0],[2,0,0,2,2,0],[2,2,0,2,2,0],[0,2,0,2,2,0],[2,0,2,0,2,2],[2,2,2,0,2,2],[1,2,2,0,2,2],[2,0,2,2,2,2],[2,2,2,2,2,2],[1,2,2,2,2,2],[2,0,0,2,2,2],[2,2,1,2,2,2],[1,2,1,2,2,2],[2,0,2,0,0,2],[2,2,2,0,0,2],[0,2,2,0,0,2],[2,0,2,2,0,2],[2,2,2,2,1,2],[1,2,2,2,1,2],[2,0,0,2,0,2],[2,2,1,2,1,2],[0,2,0,2,0,2]];Digit.nine.angle=-1;Digit.nine.animationChains.push({destination:"0",steps:[{operation:"replace",colors:[[0,5,1]]},{operation:"left",direction:!0},{operation:"back",direction:!1},{operation:"back",direction:!1},{operation:"replace",colors:[[0,1,1]]},{operation:"down",direction:!0},{operation:"left",direction:!0}]})}();Main=function(){function n(){}return n.start=function(){var n=document.getElementById("container"),t;t=Options.demo?new Demo(n):new Clock(n);t.start();window.onresize=function(){n.clientWidth=window.innerWidth;n.clientHeight=window.innerHeight;t.update()}},n}();Main.start();